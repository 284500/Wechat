<view class="data-v-6e1957d8"><my-nav-bar vue-id="6e1d75c0-1" is-show-back="{{true}}" title="昵称" noreadnum="1" class="data-v-6e1957d8" bind:__l="__l" vue-slots="{{['right']}}"><my-icon-button vue-id="{{('6e1d75c0-2')+','+('6e1d75c0-1')}}" slot="right" icon="" class="data-v-6e1957d8" bind:__l="__l"></my-icon-button></my-nav-bar><view class="position-fixed left-0 right-0 border-top flex align-center data-v-6e1957d8" style="{{'background-color:#f7f7f6;height:105rpx;'+(getKeyBoardHeight)}}"><my-icon-button vue-id="6e1d75c0-3" icon="" class="data-v-6e1957d8" bind:__l="__l"></my-icon-button><view class="flex-1 data-v-6e1957d8"><textarea class="font-md p-2 bg-white rounded data-v-6e1957d8" style="height:80rpx;width:100%;" adjust-position="false" fixed="{{true}}" data-event-opts="{{[['focus',[['focus',['$event']]]],['blur',[['blur',['$event']]]],['input',[['__set_model',['','message','$event',[]]]]]]}}" value="{{message}}" bindfocus="__e" bindblur="__e" bindinput="__e"></textarea></view><my-icon-button vue-id="6e1d75c0-4" icon="" data-event-opts="{{[['^click',[['handleEmoticon']]]]}}" bind:click="__e" class="data-v-6e1957d8" bind:__l="__l"></my-icon-button><block wx:if="{{!message}}"><my-icon-button vue-id="6e1d75c0-5" icon="" data-event-opts="{{[['^click',[['handleAction']]]]}}" bind:click="__e" class="data-v-6e1957d8" bind:__l="__l"></my-icon-button></block><block wx:else><view data-event-opts="{{[['tap',[['send',['text']]]]]}}" class=" main-bg-color rounded mr-2 px-2 py-1 data-v-6e1957d8" bindtap="__e"><text class="font text-white data-v-6e1957d8">发送</text></view></block></view><scroll-view class=" position-fixed left-0 right-0 bg-light data-v-6e1957d8" style="{{'bottom:105rpx;'+(chatBody)}}" show-scrollbar="{{false}}" scroll-y="true" scroll-into-view="{{scrollIntoView}}"><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view id="{{'chatItem_'+index}}" class="data-v-6e1957d8"><my-chat-item vue-id="{{'6e1d75c0-6-'+index}}" index="{{index}}" item="{{item}}" pre-time="{{index>0?list[index-1].create_time:0}}" data-ref="chatItem" data-event-opts="{{[['^Long',[['long']]]]}}" bind:Long="__e" class="data-v-6e1957d8 vue-ref-in-for" bind:__l="__l"></my-chat-item></view></block></scroll-view><my-pop-up vue-id="6e1d75c0-7" tabbar-height="{{260}}" body-height="{{getMenuHeight}}" body-width="{{240}}" data-ref="mypopup" class="data-v-6e1957d8 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex flex-column data-v-6e1957d8" style="{{'width:240rpx;'+(getMenuStyle)}}"><block wx:for="{{getMenuList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="flex-1 align-center flex justify-center data-v-6e1957d8" hover-class="bg-hover-secondary" data-event-opts="{{[['tap',[['click',['$0'],[[['getMenuList','',index,'event']]]]]]]}}" bindtap="__e"><text class="font-md data-v-6e1957d8">{{item.name}}</text></view></block></view></my-pop-up><my-pop-up vue-id="6e1d75c0-8" fix-bottom="{{true}}" mask="{{false}}" data-ref="action" data-event-opts="{{[['^hide',[['e0']]]]}}" bind:hide="__e" class="data-v-6e1957d8 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{mode==='action'}}"><view class=" border-top border-light-secondary flex-column data-v-6e1957d8" style="height:580rpx;"><swiper style="height:510rpx;" indicator-dots="{{$root.g0>1}}" class="data-v-6e1957d8"><block wx:for="{{actionList}}" wx:for-item="item" wx:for-index="index"><swiper-item class="flex flex-wrap data-v-6e1957d8"><block wx:for="{{item}}" wx:for-item="item2" wx:for-index="index2"><view data-event-opts="{{[['tap',[['actionEvent',['$0'],[[['actionList','',index],['','',index2,'event']]]]]]]}}" class=" col-3 flex flex-column align-center justify-center data-v-6e1957d8" style="height:255rpx;" bindtap="__e"><image style="height:100rpx;width:100rpx;" src="{{item2.icon}}" mode="widthFix" class="data-v-6e1957d8"></image><text class="font-sm text-dark data-v-6e1957d8">{{item2.name}}</text></view></block></swiper-item></block></swiper></view></block><block wx:if="{{mode==='emoticon'}}"><view class="border-top border-light-secondary bg-light data-v-6e1957d8" style="height:580rpx;"><view class="emoji data-v-6e1957d8" style="height:80rpx;"><text data-event-opts="{{[['tap',[['changeActive',['$event']]]]]}}" class="{{['iconfont','font-lg','ml-2','size','data-v-6e1957d8',(isActive1)?'isActive':'']}}" bindtap="__e"></text><block wx:for="{{emojiUrl}}" wx:for-item="item" wx:for-index="index" wx:key="index"><image class="{{['ml-s','size','data-v-6e1957d8',(activeIndex===index)?'isActive':'']}}" style="height:60rpx;width:60rpx;" src="{{item.url+'0.gif'}}" data-event-opts="{{[['tap',[['changeActive2',[index,'$0','$1'],[[['emojiUrl','',index,'url']],[['emojiUrl','',index,'total']]]]]]]}}" bindtap="__e"></image></block></view><block wx:if="{{isActive1}}"><view style="overflow:auto;" class="data-v-6e1957d8"><emoji bind:sendEmoji="__e" bind:deleteEmoji="__e" vue-id="{{('6e1d75c0-9')+','+('6e1d75c0-8')}}" data-event-opts="{{[['^sendEmoji',[['sendEmoji']]],['^deleteEmoji',[['deleteEmoji']]]]}}" class="data-v-6e1957d8" bind:__l="__l"></emoji></view></block><block wx:if="{{isActive2}}"><scroll-view style="height:500rpx;" scroll-y="true" class="data-v-6e1957d8"><block wx:for="{{2}}" wx:for-item="index" wx:for-index="__i0__"><block wx:if="{{index===activeIndex}}"><view class="data-v-6e1957d8"><block wx:for="{{emojiUrl[index].total/4}}" wx:for-item="num" wx:for-index="__i1__"><view class="flex justify-between px-4 py-2 data-v-6e1957d8"><block wx:for="{{4}}" wx:for-item="nums" wx:for-index="__i2__"><image style="height:120rpx;width:120rpx;" src="{{emojiUrl[index].url+(num*4+nums+'.gif')}}" data-event-opts="{{[['tap',[['send',['emoji',emojiUrl[index].url+(num*4+nums+'.gif')]]]]]}}" bindtap="__e" class="data-v-6e1957d8"></image></block></view></block></view></block></block></scroll-view></block></view></block></my-pop-up></view>